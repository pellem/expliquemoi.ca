---
// src/pages/salaire.astro
import Layout from '../layouts/Default.astro';

const title = "ğŸ’° Calculateur Salaire Net Canada | ImpÃ´ts QuÃ©bec & FÃ©dÃ©ral 2025";
const description = "Calcule ton salaire net aprÃ¨s impÃ´ts au QuÃ©bec et Canada. Simulateur prÃ©cis incluant RRQ, RQAP, assurance-emploi. IdÃ©al pour FranÃ§ais expatriÃ©s et nouveaux arrivants.";
---

<Layout title={title} description={description}>
 <div class="max-w-4xl mx-auto">
   <!-- Header principal -->
   <div class="text-center mb-8">
     <h1 class="text-4xl font-bold text-green-700 mb-4">ğŸ’° Calculateur Salaire Net Canada</h1>
     <p class="text-lg text-gray-600 mb-6">DÃ©couvre ton vrai salaire aprÃ¨s impÃ´ts au QuÃ©bec !</p>
     
     <!-- CTA principal vers ton site -->
     <div class="bg-gradient-to-r from-green-500 to-blue-500 rounded-xl p-6 text-white mb-8">
       <h2 class="text-2xl font-bold mb-3">ğŸš€ Calculateur Complet & Gratuit</h2>
       <p class="mb-4 text-green-50">Calcule prÃ©cisÃ©ment ton salaire net avec toutes les dÃ©ductions 2025 :</p>
       <ul class="text-left text-green-50 mb-6 max-w-2xl mx-auto">
         <li class="mb-1">âœ… <strong>ImpÃ´ts fÃ©dÃ©ral & provincial</strong> (taux 2025)</li>
         <li class="mb-1">âœ… <strong>RRQ, RQAP, assurance-emploi</strong></li>
         <li class="mb-1">âœ… <strong>Comparaison par ville</strong> (MontrÃ©al, QuÃ©bec, Toronto...)</li>
         <li class="mb-1">âœ… <strong>Simulation bonus, heures sup, freelance</strong></li>
       </ul>
       
       <a 
         href="https://salairenet.ca" 
         target="_blank"
         rel="noopener"
         class="inline-flex items-center bg-white text-green-600 font-bold px-8 py-4 rounded-lg hover:shadow-lg transition-all duration-300 text-lg"
       >
         ğŸ§® Calculer mon salaire net
         <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
           <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
         </svg>
       </a>
     </div>
   </div>

   <!-- AperÃ§u rapide intÃ©grÃ© -->
   <section class="card bg-white rounded-xl shadow-lg p-6 mb-8 border border-gray-200">
     <h2 class="text-2xl font-semibold text-green-700 mb-4">âš¡ AperÃ§u rapide</h2>
     <p class="text-gray-600 mb-6">Estimation basique pour te donner une idÃ©e (calcul dÃ©taillÃ© sur SalaireNet.ca)</p>
     
     <div class="grid md:grid-cols-3 gap-6">
       <div class="space-y-2">
         <label class="text-green-700 font-medium">Salaire brut annuel</label>
         <input type="number" id="gross_salary" class="border border-green-300 p-3 rounded-lg w-full" placeholder="65000" />
         <small class="text-gray-500">Ex: 65 000$ pour dÃ©veloppeur junior</small>
       </div>
       
       <div class="space-y-2">
         <label class="text-green-700 font-medium">Province</label>
         <select id="province" class="border border-green-300 p-3 rounded-lg w-full">
           <option value="QC">ğŸ QuÃ©bec</option>
           <option value="ON">ğŸ¢ Ontario</option>
           <option value="BC">ğŸ”ï¸ Colombie-Britannique</option>
           <option value="AB">ğŸ›¢ï¸ Alberta</option>
         </select>
       </div>
       
       <div class="space-y-2">
         <label class="text-green-700 font-medium">Estimation salaire net</label>
         <div class="border border-green-300 p-3 rounded-lg bg-green-50">
           <div id="net_result" class="font-bold text-green-700 text-lg">-</div>
           <small class="text-green-600">par annÃ©e</small>
         </div>
       </div>
     </div>
     
     <div id="breakdown" class="mt-6 p-4 bg-gray-50 rounded-lg hidden">
       <h3 class="font-semibold text-gray-700 mb-2">ğŸ“Š RÃ©partition approximative :</h3>
       <div id="breakdown_content" class="text-sm text-gray-600 space-y-1"></div>
       <p class="text-xs text-gray-500 mt-3">ğŸ’¡ <strong>Calcul prÃ©cis avec toutes les dÃ©ductions disponible sur <a href="https://salairenet.ca" class="text-green-600 underline">SalaireNet.ca</a></strong></p>
     </div>
   </section>

   <!-- Grilles d'exemples -->
   <section class="grid md:grid-cols-2 gap-6 mb-8">
     <!-- Exemples salaires tech -->
     <div class="card bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl shadow-lg p-6 border border-blue-200">
       <h3 class="text-xl font-semibold text-blue-700 mb-4">ğŸ’» Salaires Tech au QuÃ©bec</h3>
       <div class="space-y-3 text-sm">
         <div class="flex justify-between bg-white rounded p-2">
           <span>DÃ©veloppeur Junior</span>
           <span class="font-semibold">45-65k$ â†’ <span class="text-green-600">~38-50k$ net</span></span>
         </div>
         <div class="flex justify-between bg-white rounded p-2">
           <span>DÃ©veloppeur Senior</span>
           <span class="font-semibold">75-95k$ â†’ <span class="text-green-600">~55-70k$ net</span></span>
         </div>
         <div class="flex justify-between bg-white rounded p-2">
           <span>Lead/Architect</span>
           <span class="font-semibold">95-120k$ â†’ <span class="text-green-600">~68-85k$ net</span></span>
         </div>
         <div class="flex justify-between bg-white rounded p-2">
           <span>Manager Tech</span>
           <span class="font-semibold">100-140k$ â†’ <span class="text-green-600">~70-95k$ net</span></span>
         </div>
       </div>
     </div>

     <!-- Comparaison provinces -->
     <div class="card bg-gradient-to-br from-orange-50 to-red-50 rounded-xl shadow-lg p-6 border border-orange-200">
       <h3 class="text-xl font-semibold text-orange-700 mb-4">ğŸ—ºï¸ Comparaison provinces</h3>
       <div class="space-y-3 text-sm">
         <div class="bg-white rounded p-2">
           <div class="flex justify-between mb-1">
             <span class="font-medium">ğŸ QuÃ©bec (70k$)</span>
             <span class="text-green-600 font-semibold">~52k$ net</span>
           </div>
           <div class="text-xs text-gray-500">ImpÃ´ts Ã©levÃ©s mais services publics ++</div>
         </div>
         <div class="bg-white rounded p-2">
           <div class="flex justify-between mb-1">
             <span class="font-medium">ğŸ¢ Ontario (70k$)</span>
             <span class="text-green-600 font-semibold">~54k$ net</span>
           </div>
           <div class="text-xs text-gray-500">Moins d'impÃ´ts, coÃ»t de la vie plus Ã©levÃ©</div>
         </div>
         <div class="bg-white rounded p-2">
           <div class="flex justify-between mb-1">
             <span class="font-medium">ğŸ›¢ï¸ Alberta (70k$)</span>
             <span class="text-green-600 font-semibold">~56k$ net</span>
           </div>
           <div class="text-xs text-gray-500">Pas de taxe provinciale, pÃ©trole king</div>
         </div>
         <div class="bg-white rounded p-2">
           <div class="flex justify-between mb-1">
             <span class="font-medium">ğŸ”ï¸ BC (70k$)</span>
             <span class="text-green-600 font-semibold">~54k$ net</span>
           </div>
           <div class="text-xs text-gray-500">MÃ©tÃ©o ++, logement trÃ¨s cher</div>
         </div>
       </div>
     </div>
   </section>

   <!-- Guide pour nouveaux arrivants -->
   <section class="card bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl shadow-lg p-6 mb-8 border border-purple-200">
     <h2 class="text-2xl font-semibold text-purple-700 mb-4">ğŸ†• Guide spÃ©cial nouveaux arrivants</h2>
     
     <div class="grid md:grid-cols-2 gap-6">
       <div>
         <h3 class="font-semibold text-purple-600 mb-3">ğŸ’¡ Ã€ savoir sur les impÃ´ts canadiens :</h3>
         <ul class="space-y-2 text-sm text-gray-700">
           <li class="flex items-start">
             <span class="text-purple-500 mr-2">â€¢</span>
             <span><strong>Double taxation :</strong> FÃ©dÃ©ral + Provincial</span>
           </li>
           <li class="flex items-start">
             <span class="text-purple-500 mr-2">â€¢</span>
             <span><strong>DÃ©ductions automatiques :</strong> RRQ (retraite), RQAP (congÃ©s parentaux), AE (chÃ´mage)</span>
           </li>
           <li class="flex items-start">
             <span class="text-purple-500 mr-2">â€¢</span>
             <span><strong>Retour d'impÃ´ts :</strong> Souvent un bonus au printemps !</span>
           </li>
           <li class="flex items-start">
             <span class="text-purple-500 mr-2">â€¢</span>
             <span><strong>CrÃ©dits disponibles :</strong> Transport, garde d'enfants, dons</span>
           </li>
         </ul>
       </div>
       
       <div>
         <h3 class="font-semibold text-purple-600 mb-3">ğŸ¯ NÃ©gociation de salaire :</h3>
         <ul class="space-y-2 text-sm text-gray-700">
           <li class="flex items-start">
             <span class="text-purple-500 mr-2">â€¢</span>
             <span><strong>Toujours nÃ©gocier :</strong> Les employeurs s'y attendent</span>
           </li>
           <li class="flex items-start">
             <span class="text-purple-500 mr-2">â€¢</span>
             <span><strong>Avantages non-fiscaux :</strong> REER, assurances, tÃ©lÃ©travail</span>
           </li>
           <li class="flex items-start">
             <span class="text-purple-500 mr-2">â€¢</span>
             <span><strong>Bonus performance :</strong> Souvent 10-20% en tech</span>
           </li>
           <li class="flex items-start">
             <span class="text-purple-500 mr-2">â€¢</span>
             <span><strong>Stock options :</strong> TrÃ¨s courantes dans les startups</span>
           </li>
         </ul>
       </div>
     </div>
   </section>

   <!-- CTA final vers ton site -->
   <section class="card bg-gradient-to-r from-green-600 to-teal-600 rounded-xl shadow-xl p-8 text-white text-center">
     <h2 class="text-3xl font-bold mb-4">ğŸ¯ PrÃªt(e) Ã  calculer prÃ©cisÃ©ment ?</h2>
     <p class="text-xl text-green-100 mb-6">
       Utilise le calculateur complet avec tous les scÃ©narios possibles
     </p>
     
     <div class="flex flex-wrap justify-center gap-4 mb-6">
       <span class="bg-white/20 rounded-full px-4 py-2 text-sm">Bonus & primes</span>
       <span class="bg-white/20 rounded-full px-4 py-2 text-sm">Heures supplÃ©mentaires</span>
       <span class="bg-white/20 rounded-full px-4 py-2 text-sm">Freelance & contrats</span>
       <span class="bg-white/20 rounded-full px-4 py-2 text-sm">REER & Ã©pargne</span>
     </div>
     
     <a 
       href="https://salairenet.ca" 
       target="_blank"
       rel="noopener"
       class="inline-flex items-center bg-white text-green-600 font-bold px-8 py-4 rounded-lg hover:shadow-2xl transition-all duration-300 text-xl"
     >
       ğŸš€ Calculer sur SalaireNet.ca
       <svg class="w-6 h-6 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
         <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
       </svg>
     </a>
     
     <p class="text-green-100 text-sm mt-4">100% gratuit â€¢ Calculs officiels 2025 â€¢ Aucune inscription</p>
   </section>

   <!-- FAQ rapide -->
   <section class="mt-8">
     <h2 class="text-2xl font-semibold text-gray-800 mb-6 text-center">â“ Questions frÃ©quentes</h2>
     
     <div class="grid md:grid-cols-2 gap-4 text-sm">
       <div class="bg-white rounded-lg p-4 shadow">
         <h3 class="font-semibold text-gray-700 mb-2">ğŸ’° Pourquoi tant de dÃ©ductions ?</h3>
         <p class="text-gray-600">Le systÃ¨me canadien finance les services publics (santÃ© gratuite, assurance-emploi, retraite) via les dÃ©ductions salariales.</p>
       </div>
       
       <div class="bg-white rounded-lg p-4 shadow">
         <h3 class="font-semibold text-gray-700 mb-2">ğŸ  Combien prÃ©voir pour le logement ?</h3>
         <p class="text-gray-600">Maximum 30% du salaire net. Ã€ MontrÃ©al : ~1200-1800$/mois pour un 3Â½. Toronto/Vancouver : beaucoup plus cher !</p>
       </div>
       
       <div class="bg-white rounded-lg p-4 shadow">
         <h3 class="font-semibold text-gray-700 mb-2">ğŸ“ˆ Le salaire augmente vite au Canada ?</h3>
         <p class="text-gray-600">En tech oui ! 10-20% par an les premiÃ¨res annÃ©es est courant. Changement d'employeur = meilleure stratÃ©gie.</p>
       </div>
       
       <div class="bg-white rounded-lg p-4 shadow">
         <h3 class="font-semibold text-gray-700 mb-2">ğŸ‡«ğŸ‡· Comparaison avec la France ?</h3>
         <p class="text-gray-600">Salaires bruts plus Ã©levÃ©s, mais attention aux coÃ»ts (logement, transport, bouffe). Net-net souvent avantageux en tech.</p>
       </div>
     </div>
   </section>
 </div>

 <!-- Script pour l'aperÃ§u rapide -->
 <script is:inline>
   // Taux approximatifs simplifiÃ©s (pour l'aperÃ§u seulement)
   const taxRates = {
     QC: { federal: 0.15, provincial: 0.16, other: 0.055 }, // RRQ, RQAP, AE
     ON: { federal: 0.15, provincial: 0.095, other: 0.055 },
     BC: { federal: 0.15, provincial: 0.0506, other: 0.055 },
     AB: { federal: 0.15, provincial: 0.10, other: 0.055 }
   };

   function calculateQuickEstimate() {
     const grossSalary = parseFloat(document.getElementById('gross_salary').value) || 0;
     const province = document.getElementById('province').value;
     
     if (grossSalary <= 0) {
       document.getElementById('net_result').textContent = '-';
       document.getElementById('breakdown').classList.add('hidden');
       return;
     }
     
     const rates = taxRates[province];
     const federalTax = grossSalary * rates.federal;
     const provincialTax = grossSalary * rates.provincial;
     const otherDeductions = grossSalary * rates.other;
     
     const totalDeductions = federalTax + provincialTax + otherDeductions;
     const netSalary = grossSalary - totalDeductions;
     
     // Affichage
     document.getElementById('net_result').textContent = 
       new Intl.NumberFormat('fr-CA', { 
         style: 'currency', 
         currency: 'CAD',
         maximumFractionDigits: 0 
       }).format(netSalary);
     
     // Breakdown
     const breakdownContent = document.getElementById('breakdown_content');
     breakdownContent.innerHTML = `
       <div class="flex justify-between"><span>Salaire brut :</span><span class="font-medium">${new Intl.NumberFormat('fr-CA', { style: 'currency', currency: 'CAD', maximumFractionDigits: 0 }).format(grossSalary)}</span></div>
       <div class="flex justify-between"><span>- ImpÃ´t fÃ©dÃ©ral (~${(rates.federal*100).toFixed(1)}%) :</span><span class="text-red-600">-${new Intl.NumberFormat('fr-CA', { style: 'currency', currency: 'CAD', maximumFractionDigits: 0 }).format(federalTax)}</span></div>
       <div class="flex justify-between"><span>- ImpÃ´t provincial (~${(rates.provincial*100).toFixed(1)}%) :</span><span class="text-red-600">-${new Intl.NumberFormat('fr-CA', { style: 'currency', currency: 'CAD', maximumFractionDigits: 0 }).format(provincialTax)}</span></div>
       <div class="flex justify-between"><span>- RRQ/RQAP/AE (~${(rates.other*100).toFixed(1)}%) :</span><span class="text-red-600">-${new Intl.NumberFormat('fr-CA', { style: 'currency', currency: 'CAD', maximumFractionDigits: 0 }).format(otherDeductions)}</span></div>
       <hr class="my-2">
       <div class="flex justify-between font-semibold"><span>Net annuel :</span><span class="text-green-600">${new Intl.NumberFormat('fr-CA', { style: 'currency', currency: 'CAD', maximumFractionDigits: 0 }).format(netSalary)}</span></div>
       <div class="flex justify-between text-xs"><span>Net mensuel :</span><span class="text-green-600">${new Intl.NumberFormat('fr-CA', { style: 'currency', currency: 'CAD', maximumFractionDigits: 0 }).format(netSalary/12)}</span></div>
     `;
     
     document.getElementById('breakdown').classList.remove('hidden');
   }

   // Event listeners
   document.addEventListener('DOMContentLoaded', function() {
     document.getElementById('gross_salary').addEventListener('input', calculateQuickEstimate);
     document.getElementById('province').addEventListener('change', calculateQuickEstimate);
     
     // Exemple par dÃ©faut
     document.getElementById('gross_salary').value = '65000';
     calculateQuickEstimate();
   });
 </script>
</Layout>