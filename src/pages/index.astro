---
// src/pages/index.astro
// Page d'accueil - ExpliqueMoi.ca
// Hub de conversion pour nouveaux arrivants au QuÃ©bec

import Layout from '../layouts/Layout.astro';
import CTASalaireNet from '../components/CTASalaireNet.astro';

const title = "Guide Immigration QuÃ©bec";
const description = "Le guide officiel et gratuit pour rÃ©ussir votre immigration au QuÃ©bec. DÃ©marches, formulaires, outils pratiques par phase de vie. CrÃ©Ã© par des immigrants pour des immigrants.";

// DonnÃ©es des phases
const phases = [
  {
    id: 1,
    name: "Avant de partir",
    icon: "âœˆï¸",
    color: "blue",
    slug: "/phase/avant-partir",
    description: "PrÃ©parez votre dÃ©part sereinement",
    articles: [
      { title: "Visa et permis de travail", href: "/visa", hot: true },
      { title: "Documents Ã  prÃ©parer", href: "/documents" },
      { title: "Budget pour immigrer", href: "/budget-depart" },
      { title: "Que mettre dans sa valise", href: "/valise" },
    ]
  },
  {
    id: 2,
    name: "L'ArrivÃ©e",
    icon: "ğŸ",
    color: "maple",
    slug: "/phase/arrivee",
    description: "Vos premiÃ¨res semaines au QuÃ©bec",
    articles: [
      { title: "Obtenir son NAS", href: "/nas", hot: true },
      { title: "Ouvrir un compte bancaire", href: "/banque" },
      { title: "S'inscrire Ã  la RAMQ", href: "/ramq" },
      { title: "TÃ©lÃ©phone et internet", href: "/telecom" },
    ]
  },
  {
    id: 3,
    name: "S'installer",
    icon: "ğŸ ",
    color: "green",
    slug: "/phase/installer",
    description: "Construisez votre nouvelle vie",
    articles: [
      { title: "Trouver un logement", href: "/logement", hot: true },
      { title: "Comprendre votre salaire", href: "/salaire" },
      { title: "Permis de conduire", href: "/permis-conduire" },
      { title: "DÃ©clarer vos impÃ´ts", href: "/impots" },
    ]
  }
];

// Outils rapides
const tools = [
  {
    name: "Convertisseur mesures",
    icon: "ğŸ“",
    description: "Pieds, livres, Â°F... Convertissez tout !",
    href: "/mesures",
    color: "from-blue-500 to-indigo-600"
  },
  {
    name: "Cuisine FRâ†’CA",
    icon: "ğŸ³",
    description: "Cups, tempÃ©ratures four, portions",
    href: "/cuisine",
    color: "from-orange-500 to-red-600"
  },
  {
    name: "Jours fÃ©riÃ©s",
    icon: "ğŸ“…",
    description: "Calendrier complet par province",
    href: "/jours-feries",
    color: "from-purple-500 to-pink-600"
  },
  {
    name: "Formulaires officiels",
    icon: "ğŸ“‹",
    description: "NAS, RAMQ, impÃ´ts... Liens directs",
    href: "/formulaires",
    color: "from-teal-500 to-cyan-600"
  }
];

// Stats
const stats = [
  { value: "50+", label: "Guides pratiques" },
  { value: "100%", label: "Gratuit" },
  { value: "2025", label: "Infos Ã  jour" },
];
---

<Layout title={title} description={description}>
  
  <!-- HERO SECTION -->
  <section class="relative bg-gradient-to-br from-gov-700 via-gov-800 to-gov-900 text-white overflow-hidden">
    <!-- Pattern de fond -->
    <div class="absolute inset-0 opacity-10">
      <div class="absolute top-10 left-10 text-8xl">ğŸ</div>
      <div class="absolute top-1/3 right-10 text-6xl">âœˆï¸</div>
      <div class="absolute bottom-20 left-1/4 text-5xl">ğŸ </div>
      <div class="absolute bottom-10 right-1/3 text-4xl">ğŸ“‹</div>
    </div>
    
    <div class="relative max-w-6xl mx-auto px-4 py-20 md:py-28">
      <div class="text-center">
        <!-- Badge -->
        <div class="inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2 mb-8">
          <span class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></span>
          <span class="text-sm font-medium text-white/90">Guide officieux #1 pour les francophones</span>
        </div>
        
        <h1 class="text-4xl md:text-6xl lg:text-7xl font-extrabold mb-6 leading-tight">
          RÃ©ussissez votre
          <span class="bg-gradient-to-r from-amber-300 to-orange-400 bg-clip-text text-transparent">
            immigration
          </span>
          au QuÃ©bec
        </h1>
        
        <p class="text-xl md:text-2xl text-gov-100 mb-10 max-w-3xl mx-auto leading-relaxed">
          Le guide complet et gratuit pour chaque Ã©tape de votre parcours.<br class="hidden md:block" />
          <strong class="text-white">De la prÃ©paration Ã  l'installation, on vous explique tout.</strong>
        </p>
        
        <!-- CTA Buttons -->
        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center mb-12">
          <a href="#phases" class="btn bg-white text-gov-700 hover:bg-gov-50 font-bold px-8 py-4 text-lg rounded-xl shadow-lg hover:shadow-xl transition-all">
            ğŸš€ Commencer le guide
          </a>
          <a href="https://salairenet.ca" target="_blank" rel="noopener" class="btn bg-transparent border-2 border-white/50 text-white hover:bg-white/10 font-bold px-8 py-4 text-lg rounded-xl transition-all">
            ğŸ’° Calculer mon salaire
          </a>
        </div>
        
        <!-- Stats -->
        <div class="flex flex-wrap justify-center gap-8 md:gap-16">
          {stats.map((stat) => (
            <div class="text-center">
              <div class="text-3xl md:text-4xl font-bold text-amber-300">{stat.value}</div>
              <div class="text-sm text-gov-200">{stat.label}</div>
            </div>
          ))}
        </div>
      </div>
    </div>
    
    <!-- Wave bottom -->
    <div class="absolute bottom-0 left-0 right-0">
      <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0 120L60 105C120 90 240 60 360 45C480 30 600 30 720 37.5C840 45 960 60 1080 67.5C1200 75 1320 75 1380 75L1440 75V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z" fill="#f8fafc"/>
      </svg>
    </div>
  </section>

  <!-- NAVIGATION PAR PHASES DE VIE -->
  <section id="phases" class="py-20 bg-trust-light">
    <div class="max-w-6xl mx-auto px-4">
      <div class="text-center mb-16">
        <h2 class="text-3xl md:text-4xl font-bold text-gov-800 mb-4">
          Votre parcours en <span class="text-gov-600">3 phases</span>
        </h2>
        <p class="text-lg text-trust-text max-w-2xl mx-auto">
          Suivez le guide Ã©tape par Ã©tape, de la prÃ©paration en France jusqu'Ã  votre installation dÃ©finitive
        </p>
      </div>
      
      <div class="grid lg:grid-cols-3 gap-8">
        {phases.map((phase) => (
          <div class="card-interactive p-0 overflow-hidden">
            <!-- Header de la phase -->
            <div class={`p-6 ${
              phase.color === 'blue' ? 'bg-gradient-to-br from-gov-500 to-gov-600' :
              phase.color === 'maple' ? 'bg-gradient-to-br from-maple-500 to-maple-600' :
              'bg-gradient-to-br from-accent-success to-emerald-600'
            } text-white`}>
              <div class="flex items-center gap-4 mb-3">
                <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center text-2xl">
                  {phase.icon}
                </div>
                <div>
                  <div class="text-sm text-white/80 font-medium">Phase {phase.id}</div>
                  <h3 class="text-xl font-bold">{phase.name}</h3>
                </div>
              </div>
              <p class="text-white/90 text-sm">{phase.description}</p>
            </div>
            
            <!-- Liste des articles -->
            <div class="p-4">
              <ul class="space-y-2">
                {phase.articles.map((article) => (
                  <li>
                    <a 
                      href={article.href}
                      class="flex items-center justify-between p-3 rounded-lg hover:bg-gov-50 transition-colors group"
                    >
                      <span class="text-trust-text group-hover:text-gov-700 font-medium">
                        {article.title}
                      </span>
                      <div class="flex items-center gap-2">
                        {article.hot && (
                          <span class="badge-new text-xs">HOT</span>
                        )}
                        <svg class="w-4 h-4 text-gray-400 group-hover:text-gov-600 group-hover:translate-x-1 transition-all" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                        </svg>
                      </div>
                    </a>
                  </li>
                ))}
              </ul>
              
              <a 
                href={phase.slug}
                class="mt-4 block text-center text-gov-600 hover:text-gov-700 font-medium text-sm py-2"
              >
                Voir tous les articles â†’
              </a>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- CTA SALAIRE NET -->
  <section class="py-16 bg-white">
    <div class="max-w-4xl mx-auto px-4">
      <CTASalaireNet variant="full" />
    </div>
  </section>

  <!-- OUTILS PRATIQUES -->
  <section class="py-20 bg-trust-muted">
    <div class="max-w-6xl mx-auto px-4">
      <div class="text-center mb-16">
        <h2 class="text-3xl md:text-4xl font-bold text-gov-800 mb-4">
          ğŸ› ï¸ Outils pratiques
        </h2>
        <p class="text-lg text-trust-text max-w-2xl mx-auto">
          Des convertisseurs et rÃ©fÃ©rences pour faciliter votre quotidien au Canada
        </p>
      </div>
      
      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
        {tools.map((tool) => (
          <a href={tool.href} class="group">
            <div class="card-interactive h-full p-6 text-center">
              <div class={`w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br ${tool.color} flex items-center justify-center text-3xl text-white shadow-lg group-hover:scale-110 transition-transform`}>
                {tool.icon}
              </div>
              <h3 class="font-bold text-trust-dark mb-2">{tool.name}</h3>
              <p class="text-sm text-trust-text">{tool.description}</p>
            </div>
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- TÃ‰MOIGNAGES / CONFIANCE -->
  <section class="py-20 bg-white">
    <div class="max-w-6xl mx-auto px-4">
      <div class="text-center mb-16">
        <h2 class="text-3xl md:text-4xl font-bold text-gov-800 mb-4">
          CrÃ©Ã© par des immigrants, pour des immigrants
        </h2>
        <p class="text-lg text-trust-text max-w-2xl mx-auto">
          On est passÃ©s par lÃ . On sait ce que c'est de chercher des infos fiables en franÃ§ais.
        </p>
      </div>
      
      <div class="grid md:grid-cols-3 gap-8">
        <div class="card p-6 text-center">
          <div class="text-4xl mb-4">ğŸ¤¯</div>
          <div class="text-2xl font-bold text-gov-600 mb-2">Les galÃ¨res Ã©vitÃ©es</div>
          <p class="text-trust-text text-sm">
            "J'aurais aimÃ© avoir ce guide avant de partir ! J'ai perdu 3 semaines parce que 
            je ne savais pas qu'il fallait le NAS en premier."
          </p>
          <div class="mt-4 text-sm text-gray-500">â€” Marie, arrivÃ©e en 2023</div>
        </div>
        
        <div class="card p-6 text-center">
          <div class="text-4xl mb-4">ğŸ“</div>
          <div class="text-2xl font-bold text-gov-600 mb-2">Les mesures maÃ®trisÃ©es</div>
          <p class="text-trust-text text-sm">
            "Le convertisseur est dans mes favoris. Entre les pieds carrÃ©s pour l'appart 
            et les Â°F pour la mÃ©tÃ©o, c'est devenu indispensable."
          </p>
          <div class="mt-4 text-sm text-gray-500">â€” Thomas, MontrÃ©al</div>
        </div>
        
        <div class="card p-6 text-center">
          <div class="text-4xl mb-4">ğŸ’°</div>
          <div class="text-2xl font-bold text-gov-600 mb-2">Le salaire compris</div>
          <p class="text-trust-text text-sm">
            "Enfin j'ai compris pourquoi mon salaire net Ã©tait si diffÃ©rent du brut ! 
            Le calculateur m'a aidÃ© Ã  nÃ©gocier mon offre."
          </p>
          <div class="mt-4 text-sm text-gray-500">â€” Sophie, QuÃ©bec City</div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA FINAL -->
  <section class="py-20 bg-gradient-to-br from-gov-700 to-gov-900 text-white">
    <div class="max-w-4xl mx-auto px-4 text-center">
      <h2 class="text-3xl md:text-4xl font-bold mb-6">
        PrÃªt(e) Ã  commencer votre nouvelle vie ?
      </h2>
      <p class="text-xl text-gov-100 mb-10 max-w-2xl mx-auto">
        Suivez le guide phase par phase. On vous accompagne de A Ã  Z, gratuitement.
      </p>
      
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="#phases" class="btn bg-white text-gov-700 hover:bg-gov-50 font-bold px-8 py-4 rounded-xl shadow-lg">
          ğŸš€ Commencer par la Phase 1
        </a>
        <a href="/formulaires" class="btn bg-white/10 border-2 border-white/30 text-white hover:bg-white/20 font-bold px-8 py-4 rounded-xl">
          ğŸ“‹ Voir tous les formulaires
        </a>
      </div>
    </div>
  </section>

</Layout>
